<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contact Hub â€“ Cyberpunk Glow</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">

<!-- QR Code Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
body{
  margin:0;
  font-family:'Orbitron',sans-serif;
  background:#0c002b;
  color:#fff;
}
.neon{text-shadow:0 0 10px #ff00ff,0 0 20px #00ffff}
.btn{
  padding:12px 30px;
  border:none;
  border-radius:12px;
  background:linear-gradient(45deg,#ff00ff,#00ffff);
  color:#fff;
  cursor:pointer;
  box-shadow:0 0 20px #ff00ff;
}
.btn:hover{transform:scale(1.1)}
input,select{
  width:100%;
  padding:10px;
  margin:8px 0;
  background:rgba(255,255,255,0.1);
  border:1px solid #0ff;
  border-radius:10px;
  color:#fff;
}
header{text-align:center;padding:40px}
.form{
  width:350px;
  margin:40px auto;
  padding:30px;
  background:rgba(0,0,0,.6);
  border-radius:20px;
  box-shadow:0 0 30px #ff00ff;
}
.dashboard{display:flex;height:100vh}
.sidebar{
  width:220px;
  padding:20px;
  background:rgba(0,0,0,.7);
  box-shadow:0 0 20px #ff00ff;
}
.sidebar button{
  width:100%;
  margin:5px 0;
  background:none;
  border:none;
  color:#0ff;
  cursor:pointer;
}
.main{flex:1;padding:20px;overflow:auto}
.card{
  background:rgba(0,0,0,.5);
  padding:15px;
  border-radius:15px;
  margin:10px 0;
  display:flex;
  justify-content:space-between;
  box-shadow:0 0 15px #0ff;
}
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  justify-content:center;
  align-items:center;
}
.modal-content{
  background:#000;
  padding:30px;
  border-radius:20px;
  width:380px;
  box-shadow:0 0 30px #ff00ff;
}
</style>
</head>

<body>

<header>
<h1 class="neon">âš¡ Contact Hub âš¡</h1>
<button class="btn" onclick="show('login')">Login</button>
<button class="btn" onclick="show('register')">Register</button>
</header>

<!-- REGISTER -->
<div id="register" class="form" style="display:none">
<h2>Register</h2>
<input id="ru" placeholder="Username (max 50)" maxlength="50">
<input id="re" type="email" placeholder="Email">
<input id="rp" type="password" placeholder="Password (no spaces)">
<input id="rcp" type="password" placeholder="Confirm Password">
<button class="btn" onclick="register()">Create</button>
</div>

<!-- LOGIN -->
<div id="login" class="form" style="display:none">
<h2>Login</h2>
<input id="lu" placeholder="Username">
<input id="lp" type="password" placeholder="Password">
<button class="btn" onclick="login()">Login</button>
</div>

<!-- DASHBOARD -->
<div id="dash" class="dashboard" style="display:none">
<div class="sidebar">
<button onclick="view('all')">ğŸ“’ All</button>
<button onclick="view('favorites')">â­ Favorites</button>
<button onclick="view('groups')">ğŸ‘¥ Groups</button>
<button onclick="view('private')">ğŸ”’ Private</button>
<button onclick="view('emergency')">ğŸš¨ Emergency</button>
<button onclick="openAdd()">â• Add</button>
<button onclick="logout()">â›” Logout</button>
</div>
<div class="main">
<input id="search" placeholder="Search..." oninput="search()">
<button class="btn" onclick="voice()">ğŸ™ Voice</button>
<div id="list"></div>
</div>
</div>

<!-- ADD / EDIT -->
<div id="addModal" class="modal">
<div class="modal-content">
<h3>Add / Edit Contact</h3>
<input id="fn" placeholder="First Name">
<input id="sn" placeholder="Surname">
<input id="num" placeholder="Phone">
<input id="em" placeholder="Email">
<input type="date" id="dob">
<select id="bg">
<option value="">Blood</option><option>O+</option><option>A+</option><option>B+</option>
</select>
<input id="grp" placeholder="Group">
<label><input type="checkbox" id="fav"> Favorite</label>
<label><input type="checkbox" id="pri"> Private</label>
<label><input type="checkbox" id="eme"> Emergency</label>
<button class="btn" onclick="save()">Save</button>
<button class="btn" onclick="closeAdd()">Cancel</button>
</div>
</div>

<!-- QR -->
<div id="qrModal" class="modal">
<div class="modal-content">
<h3>Share Contact</h3>
<div id="qr"></div>
<button class="btn" onclick="closeQR()">Close</button>
</div>
</div>

<script>
let users=JSON.parse(localStorage.users||"[]");
let user=null,contacts=[],edit=null,privateOK=false;
const PIN="1234";

function show(x){register.style.display=login.style.display='none';document.getElementById(x).style.display='block'}
function register(){
 if(rp.value.includes(" ")) return alert("No spaces");
 if(rp.value!==rcp.value) return alert("Mismatch");
 users.push({u:ru.value,p:rp.value,c:[]});
 localStorage.users=JSON.stringify(users);
 alert("Registered");
 show('login');
}
function login(){
 user=users.find(x=>x.u==lu.value&&x.p==lp.value);
 if(!user) return alert("Invalid");
 contacts=user.c; dash.style.display='flex'; login.style.display='none'; view('all');
}
function logout(){location.reload()}
function openAdd(i=null){edit=i;addModal.style.display='flex'}
function closeAdd(){addModal.style.display='none';edit=null}

function save(){
 let c={fn:fn.value,sn:sn.value,n:num.value,e:em.value,d:dob.value,b:bg.value,g:grp.value,f:fav.checked,p:pri.checked,m:eme.checked};
 edit!==null?contacts[edit]=c:contacts.push(c);
 user.c=contacts;localStorage.users=JSON.stringify(users);
 closeAdd();view('all');
}

function view(t){
 if(t=="private"&&!privateOK){if(prompt("PIN")!=PIN)return;privateOK=true}
 list.innerHTML='';
 contacts.filter(c=>
 t=='all'||(t=='favorites'&&c.f)||(t=='private'&&c.p)||(t=='emergency'&&c.m)||(t=='groups'&&c.g)
 ).sort((a,b)=>a.fn.localeCompare(b.fn)).forEach((c,i)=>{
 list.innerHTML+=`
 <div class="card">
 <div><b>${c.fn} ${c.sn}</b><br>${c.n}</div>
 <div>
 <button onclick="location.href='tel:${c.n}'">ğŸ“</button>
 <button onclick="location.href='sms:${c.n}'">ğŸ’¬</button>
 <button onclick="qrShow(${i})">ğŸ”³</button>
 <button onclick="openAdd(${i})">âœï¸</button>
 </div></div>`});
}

function qrShow(i){
 qr.innerHTML=''; qrModal.style.display='flex';
 new QRCode(qr,{text:JSON.stringify(contacts[i]),width:200,height:200});
}
function closeQR(){qrModal.style.display='none'}

function search(){
 let v=search.value.toLowerCase();
 list.innerHTML='';
 contacts.filter(c=>c.fn.toLowerCase().includes(v)||c.n.includes(v)).forEach(c=>{
 list.innerHTML+=`<div class="card">${c.fn} ${c.n}</div>`});
}

function voice(){
 let r=new webkitSpeechRecognition();
 r.onresult=e=>{search.value=e.results[0][0].transcript;search()};
 r.start();
}
</script>
</body>
</html>
