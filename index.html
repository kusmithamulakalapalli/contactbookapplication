<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ“‡ Contact Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:linear-gradient(135deg,#020b1f,#061d3a);
color:#fff;
}
.hidden{display:none}
.btn{
padding:10px 18px;
border:none;
border-radius:8px;
background:#0a84ff;
color:white;
cursor:pointer;
margin:6px;
}
.btn:hover{background:#0066cc}

/* LANDING */
.landing{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
}
.logo{
font-size:64px;
font-weight:bold;
color:#7fd7ff;
text-shadow:0 0 25px #00aaff;
}
.sub{opacity:.8;margin-bottom:20px}

/* FORMS */
.form{
width:350px;
background:rgba(255,255,255,0.1);
backdrop-filter:blur(12px);
padding:25px;
border-radius:15px;
box-shadow:0 0 30px #000;
}
.form h2{text-align:center}
input,select{
width:100%;
padding:10px;
margin:8px 0;
border-radius:6px;
border:none;
outline:none;
}

/* DASHBOARD */
.topbar{
background:#081a33;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}
.sidebar{
width:230px;
background:#091f3f;
position:fixed;
top:60px;
bottom:0;
padding:15px;
}
.sidebar button{width:100%}
.main{
margin-left:250px;
padding:20px;
}

/* CONTACT CARD */
.card{
background:rgba(255,255,255,0.1);
padding:12px;
border-radius:12px;
margin:8px 0;
display:flex;
justify-content:space-between;
align-items:center;
}
.actions i{
margin:0 6px;
cursor:pointer;
color:#7fd7ff;
}
.actions i:hover{color:#fff}
</style>
</head>

<body>

<!-- LANDING -->
<div class="landing" id="landing">
<div class="logo">ğŸ“‡ Contact Hub</div>
<div class="sub">Store â€¢ Secure â€¢ Communicate</div>
<button class="btn" id="openRegister">âœ¨ Register</button>
<button class="btn" id="openLogin">ğŸ” Login</button>
</div>

<!-- REGISTER -->
<div class="landing hidden" id="register">
<div class="form">
<h2>âœ¨ Create Profile</h2>
<input id="rUser" placeholder="Username (â‰¤ 50 chars)">
<input id="rEmail" type="email" placeholder="Email">
<input id="rPass" type="password" placeholder="Password (no spaces)">
<input id="rCPass" type="password" placeholder="Confirm Password">
<button class="btn" id="registerBtn">Create Account</button>
</div>
</div>

<!-- LOGIN -->
<div class="landing hidden" id="login">
<div class="form">
<h2>ğŸ” Login</h2>
<input id="lUser" placeholder="Username">
<input id="lPass" type="password" placeholder="Password">
<button class="btn" id="loginBtn">Login</button>
</div>
</div>

<!-- DASHBOARD -->
<div id="dash" class="hidden">
<div class="topbar">
<h2>ğŸ“‡ Contact Hub</h2>
<button class="btn" id="logoutBtn">Logout</button>
</div>

<div class="sidebar">
<button class="btn" onclick="show('all')">ğŸ“– All</button>
<button class="btn" onclick="show('add')">â• Add</button>
<button class="btn" onclick="show('fav')">â­ Favourites</button>
<button class="btn" onclick="show('emg')">ğŸš¨ Emergency</button>
</div>

<div class="main">
<input id="search" placeholder="ğŸ” Search..." onkeyup="render()">

<div id="add" class="hidden">
<h3>â• Add / Edit Contact</h3>
<input id="name" placeholder="Full Name">
<input id="phone" placeholder="Phone">
<input id="email" placeholder="Email">
<select id="group">
<option>Family</option>
<option>Friends</option>
<option>Office</option>
</select>
<label><input type="checkbox" id="fav"> â­ Favourite</label><br>
<label><input type="checkbox" id="emg"> ğŸš¨ Emergency</label><br>
<button class="btn" onclick="save()">Save Contact</button>
</div>

<div id="all"></div>
<div id="fav" class="hidden"></div>
<div id="emg" class="hidden"></div>

</div>
</div>

<script>
/* ---------- ELEMENTS ---------- */
const landing = document.getElementById("landing");
const registerPage = document.getElementById("register");
const loginPage = document.getElementById("login");
const dash = document.getElementById("dash");

/* ---------- BUTTON EVENTS ---------- */
document.getElementById("openRegister").onclick = () => {
landing.classList.add("hidden");
registerPage.classList.remove("hidden");
};

document.getElementById("openLogin").onclick = () => {
landing.classList.add("hidden");
loginPage.classList.remove("hidden");
};

document.getElementById("registerBtn").onclick = register;
document.getElementById("loginBtn").onclick = login;
document.getElementById("logoutBtn").onclick = () => location.reload();

/* ---------- DATA ---------- */
let user="", contacts=[], mode="all", editIndex=null;

/* ---------- AUTH ---------- */
function register(){
if(rUser.value.length>50) return alert("Username too long");
if(rPass.value.includes(" ")) return alert("Password cannot contain spaces");
if(rPass.value!==rCPass.value) return alert("Passwords do not match");

localStorage.setItem("user_"+rUser.value, JSON.stringify({
email:rEmail.value,
pass:rPass.value
}));
alert("Registration successful!");
registerPage.classList.add("hidden");
loginPage.classList.remove("hidden");
}

function login(){
let data = JSON.parse(localStorage.getItem("user_"+lUser.value));
if(!data || data.pass !== lPass.value) return alert("Invalid login");

user = lUser.value;
contacts = JSON.parse(localStorage.getItem("contacts_"+user) || "[]");

loginPage.classList.add("hidden");
dash.classList.remove("hidden");
render();
}

/* ---------- CONTACTS ---------- */
function show(p){mode=p;render()}

function save(){
let c={
name:name.value,
phone:phone.value,
email:email.value,
group:group.value,
fav:fav.checked,
emg:emg.checked
};
if(editIndex!==null){contacts[editIndex]=c;editIndex=null}
else contacts.push(c);

localStorage.setItem("contacts_"+user, JSON.stringify(contacts));
alert("Contact saved");
show("all");
}

function render(){
["all","fav","emg","add"].forEach(i=>document.getElementById(i).classList.add("hidden"));
document.getElementById(mode).classList.remove("hidden");

let box=document.getElementById(mode);
if(mode==="add") return;

box.innerHTML="";
contacts
.filter(c=>mode==="fav"?c.fav:mode==="emg"?c.emg:true)
.sort((a,b)=>a.name.localeCompare(b.name))
.forEach((c,i)=>{
let d=document.createElement("div");
d.className="card";
d.innerHTML=`
<span>${c.name}</span>
<div class="actions">
<i class="fa fa-phone" onclick="location.href='tel:${c.phone}'"></i>
<i class="fa fa-pen" onclick="edit(${i})"></i>
</div>`;
box.appendChild(d);
});
}

function edit(i){
let c=contacts[i];
name.value=c.name;
phone.value=c.phone;
email.value=c.email;
group.value=c.group;
fav.checked=c.fav;
emg.checked=c.emg;
editIndex=i;
show("add");
}
</script>

</body>
</html>
