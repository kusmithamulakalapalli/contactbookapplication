<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Hub - Cyberpunk Glow</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');

body{
margin:0;
font-family:'Orbitron',sans-serif;
background:#0c002b;
color:#fff;
}

.neon-glow{
text-shadow:0 0 5px #ff00ff,0 0 15px #00ffff;
}

header{text-align:center;padding:50px}
header h1{font-size:4em;color:#ff00ff}

.btn{
padding:15px 40px;
margin:15px;
border:none;
border-radius:10px;
cursor:pointer;
font-size:1.2em;
color:#fff;
background:linear-gradient(45deg,#ff00ff,#00ffff);
box-shadow:0 0 25px #ff00ff;
}

.form-container{
width:360px;
margin:30px auto;
padding:35px;
background:rgba(0,0,0,0.6);
border-radius:20px;
box-shadow:0 0 40px #00ffff;
}

.form-container input{
width:100%;
padding:12px;
margin:10px 0;
background:rgba(255,255,255,0.05);
border:1px solid #0ff;
border-radius:10px;
color:white;
}

.dashboard{display:flex;height:100vh}

.sidebar{
width:230px;
padding:20px;
background:rgba(0,0,0,0.6);
box-shadow:0 0 30px #ff00ff;
}

.sidebar button{
display:block;
width:100%;
margin:8px 0;
padding:10px;
border:none;
background:none;
color:#0ff;
text-align:left;
cursor:pointer;
}

.main-content{flex:1;padding:20px}

.search-bar{
display:flex;
gap:10px;
margin-bottom:15px;
}

.search-bar input{
flex:1;
padding:10px;
border-radius:10px;
border:1px solid #0ff;
background:rgba(255,255,255,0.05);
color:#fff;
}

.contact-card{
display:flex;
justify-content:space-between;
padding:15px;
margin:10px 0;
border-radius:15px;
background:rgba(0,0,0,0.5);
box-shadow:0 0 15px #00ffff;
}

.contact-actions button{
margin-left:5px;
border:none;
padding:8px;
border-radius:8px;
cursor:pointer;
background:linear-gradient(45deg,#ff00ff,#00ffff);
}

.modal{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.8);
justify-content:center;
align-items:center;
z-index:10;
}

.modal-content{
background:#000;
padding:30px;
border-radius:20px;
width:400px;
box-shadow:0 0 40px #ff00ff;
}
</style>
</head>

<body>

<header>
<h1 class="neon-glow">Contact Hub</h1>
<button class="btn" onclick="showForm('login')">Login</button>
<button class="btn" onclick="showForm('register')">Register</button>
</header>

<!-- REGISTER -->
<div id="registerForm" class="form-container" style="display:none">
<input id="regUsername" placeholder="Username">
<input id="regEmail" type="email" placeholder="Email">
<input id="regPassword" type="password" placeholder="Password">
<input id="regConfirmPassword" type="password" placeholder="Confirm Password">
<input id="regPin" type="password" placeholder="Private Contacts PIN">
<button onclick="registerUser()">Register</button>
</div>

<!-- LOGIN -->
<div id="loginForm" class="form-container" style="display:none">
<input id="loginUsername" placeholder="Username">
<input id="loginPassword" type="password" placeholder="Password">
<button onclick="loginUser()">Login</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="dashboard" style="display:none">
<div class="sidebar">
<button onclick="showContacts('all')">All</button>
<button onclick="unlockPrivate()">Private üîí</button>
<button onclick="showContacts('favorites')">Favorites</button>
<button onclick="showAddContact()">Add Contact</button>
<button onclick="logout()">Logout</button>
</div>

<div class="main-content">
<div class="search-bar">
<input id="searchInput" placeholder="Search..." oninput="searchContacts()">
<button onclick="voiceSearch()">üéôÔ∏è</button>
</div>
<div id="contactList"></div>
</div>
</div>

<!-- ADD / EDIT CONTACT -->
<div id="addContactModal" class="modal">
<div class="modal-content">
<h3 id="modalTitle">Add Contact</h3>
<input id="cName" placeholder="Name">
<input id="cNumber" placeholder="Number">
<label><input type="checkbox" id="cPrivate"> Private</label>
<button onclick="saveContact()">Save</button>
<button onclick="closeModal()">Cancel</button>
</div>
</div>

<!-- QR MODAL -->
<div id="qrModal" class="modal">
<div class="modal-content">
<h3>Share Contact</h3>
<div id="qrCode"></div>
<button onclick="closeQR()">Close</button>
</div>
</div>

<script>
let users=JSON.parse(localStorage.getItem("users"))||[];
let currentUser=null,contacts=[],editIndex=null;

function showForm(f){
registerForm.style.display=f==='register'?'block':'none';
loginForm.style.display=f==='login'?'block':'none';
dashboard.style.display='none';
}

function registerUser(){
users.push({
username:regUsername.value,
password:regPassword.value,
pin:regPin.value,
contacts:[]
});
localStorage.setItem("users",JSON.stringify(users));
alert("Registered");
showForm('login');
}

function loginUser(){
currentUser=users.find(u=>u.username===loginUsername.value && u.password===loginPassword.value);
if(!currentUser)return alert("Invalid");
contacts=currentUser.contacts;
dashboard.style.display='flex';
loginForm.style.display='none';
showContacts('all');
}

function logout(){location.reload();}

function showAddContact(){
editIndex=null;
modalTitle.innerText="Add Contact";
addContactModal.style.display='flex';
}

function saveContact(){
let c={name:cName.value,number:cNumber.value,private:cPrivate.checked};
if(editIndex!==null)contacts[editIndex]=c;
else contacts.push(c);
currentUser.contacts=contacts;
localStorage.setItem("users",JSON.stringify(users));
closeModal();showContacts('all');
}

function closeModal(){addContactModal.style.display='none';}

function showContacts(type){
contactList.innerHTML='';
contacts.forEach((c,i)=>{
if(type==='private' && !c.private)return;
let d=document.createElement('div');
d.className='contact-card';
d.innerHTML=`
<div>${c.name}<br>${c.number}</div>
<div class="contact-actions">
<button onclick="editContact(${i})">‚úèÔ∏è</button>
<button onclick="showQR('${c.name}','${c.number}')">üî≥</button>
</div>`;
contactList.appendChild(d);
});
}

function editContact(i){
editIndex=i;
let c=contacts[i];
cName.value=c.name;cNumber.value=c.number;cPrivate.checked=c.private;
modalTitle.innerText="Edit Contact";
addContactModal.style.display='flex';
}

function showQR(name,num){
qrModal.style.display='flex';
qrCode.innerHTML='';
new QRCode(qrCode,`${name} - ${num}`);
}

function closeQR(){qrModal.style.display='none';}

function unlockPrivate(){
let p=prompt("Enter Private PIN");
if(p===currentUser.pin)showContacts('private');
else alert("Wrong PIN");
}

function searchContacts(){
let v=searchInput.value.toLowerCase();
contactList.innerHTML='';
contacts.filter(c=>c.name.toLowerCase().includes(v))
.forEach(c=>{
contactList.innerHTML+=`<div class='contact-card'>${c.name} - ${c.number}</div>`;
});
}

function voiceSearch(){
let r=new(window.SpeechRecognition||webkitSpeechRecognition)();
r.lang='en-US';
r.onresult=e=>{searchInput.value=e.results[0][0].transcript;searchContacts();}
r.start();
}
</script>

</body>
</html>
